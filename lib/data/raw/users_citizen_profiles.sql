-- Citizen registration uses a single table. Run this on database `iwms`.
CREATE TABLE IF NOT EXISTS `citizen_profiles` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `unique_id` VARCHAR(32) NOT NULL,
  `customer_id` VARCHAR(32) NOT NULL,
  `phone` VARCHAR(20) NOT NULL,
  `owner_name` VARCHAR(255) NOT NULL,
  `contact_no` VARCHAR(20) NOT NULL,
  `building_no` VARCHAR(100) NOT NULL,
  `street` VARCHAR(150) NOT NULL,
  `area` VARCHAR(150) NOT NULL,
  `pincode` VARCHAR(10) NOT NULL,
  `city` VARCHAR(100) NOT NULL,
  `district` VARCHAR(100) NOT NULL,
  `state` VARCHAR(100) NOT NULL,
  `zone` VARCHAR(100) NOT NULL,
  `ward` VARCHAR(100) NOT NULL,
  `property_name` VARCHAR(100) NOT NULL,
  `is_active` TINYINT(1) NOT NULL DEFAULT 1,
  `created_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_citizen_profiles_customer_id` (`customer_id`),
  UNIQUE KEY `uniq_citizen_profiles_phone` (`phone`),
  INDEX `idx_citizen_profiles_contact_no` (`contact_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
